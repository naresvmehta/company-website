<%- layout("layouts/boilerplate") %>

<div class="container" style="margin-top: 50px; margin-bottom: 60px;">
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-success" style="border-radius: 8px;">
        <div class="panel-heading" style="background-color: #4CAF50; color: white; border-radius: 8px 8px 0 0;">
          <h3 class="panel-title">Add New Product</h3>
        </div>

        <div class="row">
          <div class="panel-body" style="font-size: 16px; line-height: 1.7;">
            <form action="/products" method="POST" enctype="multipart/form-data">
              
              <!-- Plant Title -->
              <div class="form-group col-md-12">
                <label for="title">Plant Name<small class="text-muted"> (Required)</small></label>
                <input type="text" name="title" id="title" class="form-control" placeholder="Enter plant name" required>
              </div>

              <!-- Main Cover Image -->
              <div class="form-group col-md-12">
                <label for="coverImage">Main Cover Image<small class="text-muted"> (Required)</small></label>
                <input type="file" name="coverImage" id="coverImage" class="form-control" accept="image/*" required>
              </div>

              <!-- Long Description -->
              <div class="row">
                <div class="form-group col-md-12">
                  <label for="description">Detailed Description 
                    <small class="text-muted">(Insert images at the desired cursor position for proper display)</small>
                  </label>
                  <textarea name="description" id="description" rows="10" class="form-control" placeholder="Describe the plant, upload images, etc."></textarea>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="form-group col-md-12">
                <button type="submit" class="btn btn-success btn-block">Add Product</button>
              </div>

            </form>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<script src="https://cdn.ckeditor.com/ckeditor5/35.0.1/classic/ckeditor.js"></script>
<script>
  ClassicEditor
    .create(document.querySelector('#description'), {
      ckfinder: {
        uploadUrl: '/upload-image'
      },
      toolbar: [
           'heading', '|', 'bold', 'italic', 'underline', 'bulletedList', 'numberedList', '|',
        'insertTable', 'blockQuote', '|', 'imageUpload', 'undo', 'redo'
      ],
      image: {
        toolbar: [
          // Only basic image options â€” NO alignment buttons here
          'imageTextAlternative', 'imageStyle:inline', 'imageStyle:full'
        ]
      }
    })
    .catch(error => console.error(error));
</script>